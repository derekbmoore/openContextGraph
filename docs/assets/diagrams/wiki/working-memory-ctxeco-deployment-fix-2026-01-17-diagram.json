{
  "title": "ctxEco Deployment Fix â€” Working Memory (2026-01-17)",
  "type": "flowchart",
  "nodes": [
    { "id": "discovery", "label": "Discovery: Two Backend Codebases (ctxEco dev vs openContextGraph prod)", "type": "rect", "color": "#ef4444" },
    { "id": "fix1", "label": "Fix 1: LLM Endpoint Configuration (Phase 2)", "type": "rect", "color": "#22c55e" },
    { "id": "problem1", "label": "Problem: Defaulted to api.openai.com when LLM_API_BASE not set", "type": "rect", "color": "#ef4444" },
    { "id": "solution1", "label": "Solution: Use AZURE_AI_ENDPOINT/KEY/DEPLOYMENT from container config", "type": "rect", "color": "#22c55e" },
    { "id": "fix2", "label": "Fix 2: Zep Session Creation (Phase 1)", "type": "rect", "color": "#22c55e" },
    { "id": "problem2", "label": "Problem: Zep OSS lacks /api/v1/users endpoint, session creation failed", "type": "rect", "color": "#ef4444" },
    { "id": "solution2", "label": "Solution: Track user creation, omit user_id from session when user API unavailable", "type": "rect", "color": "#22c55e" },
    { "id": "streams", "label": "Split Stream Architecture: Chat (Text/REST) vs Voice (WebSocket) vs Avatar (WebRTC)", "type": "rect", "color": "#60a5fa" },
    { "id": "env_vars", "label": "Container Env Vars: AZURE_AI_ENDPOINT, AZURE_AI_KEY, AZURE_AI_DEPLOYMENT, AZURE_AI_MODEL_ROUTER", "type": "note", "color": "#94a3b8" }
  ],
  "edges": [
    { "source": "discovery", "target": "fix1", "label": "identified" },
    { "source": "fix1", "target": "problem1", "label": "addresses" },
    { "source": "problem1", "target": "solution1", "label": "fixed by" },
    { "source": "discovery", "target": "fix2", "label": "identified" },
    { "source": "fix2", "target": "problem2", "label": "addresses" },
    { "source": "problem2", "target": "solution2", "label": "fixed by" },
    { "source": "discovery", "target": "streams", "label": "reveals" },
    { "source": "fix1", "target": "env_vars", "label": "uses" }
  ]
}
